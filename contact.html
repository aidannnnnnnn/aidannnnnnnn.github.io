<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>About Me | Aidan</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="fade-in">
    
    <div id="hackingText" style="color: lime; font-family: 'Courier New', monospace; white-space: pre; position: absolute; top: 20px; left: 20px;"></div>
    <script type="module">
        import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.137.0/build/three.module.js';
    
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer();

        let isSpinning = true;

        document.addEventListener('keydown', function(event) {
            if (event.key === 's') {
                isSpinning = !isSpinning;
            }
        });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        
        function createTextTexture(text) {
            const canvas = document.createElement('canvas');
            const context = canvas.getContext('2d');
            canvas.width = 256; 
            canvas.height = 256; 
            context.fillStyle = '#FFFFFF'; 
            context.fillRect(0, 0, canvas.width, canvas.height);
            context.font = '48px Arial';
            context.fillStyle = 'black';
            context.textAlign = 'center';
            context.textBaseline = 'middle';
            context.fillText(text, canvas.width / 2, canvas.height / 2);
            return new THREE.CanvasTexture(canvas);
        }

        const homeTexture = createTextTexture('Home');
        const aboutMeTexture = createTextTexture('About Me');
        const myProjectsTexture = createTextTexture('My Projects');

        const materials = [
            new THREE.MeshBasicMaterial({ map: homeTexture }),
            new THREE.MeshBasicMaterial({ map: aboutMeTexture }),
            new THREE.MeshBasicMaterial({ map: myProjectsTexture })
        ];

        const geometry = new THREE.BoxGeometry();
        const cubes = materials.map(material => new THREE.Mesh(geometry, material));
        cubes[0].position.x = -2;
        cubes[2].position.x = 2;

        cubes.forEach(cube => scene.add(cube));

        camera.position.z = 5;
        
        function animate() {
            requestAnimationFrame(animate);
            if (isSpinning) {
                cubes.forEach(cube => {
                    cube.rotation.x += 0.01;
                    cube.rotation.y += 0.01;
                });
            }
            renderer.render(scene, camera);
        }
    
        animate();
    
        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();
    
        function onMouseClick(event) {
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

            raycaster.setFromCamera(mouse, camera);

            const intersects = raycaster.intersectObjects(scene.children);

            if (intersects.length > 0) {
                document.body.classList.add('fade-out'); 
                const firstIntersectedObject = intersects[0].object;
                setTimeout(() => { 
                    if (firstIntersectedObject === cubes[0]) {
                        window.location.href = 'index.html';
                    } else if (firstIntersectedObject === cubes[1]) {
                        window.location.href = 'about.html';
                    } else if (firstIntersectedObject === cubes[2]) {
                        window.location.href = 'projects.html';
                    }
                }, 1000); 
            }
        }
    
        window.addEventListener('click', onMouseClick, false);
    
        const hackingTextContent = "Initializing hack...\n> Accessing mainframe...\n> Bypassing security...\n> Hack successful!";
        const additionalMessage = "\n\nHi, I am Aidan. It is a pleasure to meet you!\n\nIf at any time the spinning cubes are too much, press the 's' key and they will stop!";
        let currentCharIndex = 0;
        let currentMessage = hackingTextContent;
    
        function displayHackingText() {
            if (currentCharIndex < currentMessage.length) {
                document.getElementById('hackingText').textContent += currentMessage.charAt(currentCharIndex);
                currentCharIndex++;
                setTimeout(displayHackingText, 100); 
            } else if (currentMessage === hackingTextContent) {
                
                currentMessage = additionalMessage;
                currentCharIndex = 0; 
                setTimeout(displayHackingText, 500); 
            }
        }
    
        displayHackingText();
    </script>

</body>
</html>